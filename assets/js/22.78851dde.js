(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{539:function(s,a,t){"use strict";t.r(a);var e=t(6),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("通过这个"),t("a",{attrs:{href:"https://github.com/ttroy50/cmake-examples",target:"_blank",rel:"noopener noreferrer"}},[s._v("项目"),t("OutboundLink")],1),s._v("来学习cmake")]),s._v(" "),t("p",[s._v("cmake文档地址 https://cmake.org/documentation")]),s._v(" "),t("p",[s._v("c++没有统一的module太难受了，build system好复杂……")]),s._v(" "),t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),t("h3",{attrs:{id:"cmakelist-txt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cmakelist-txt"}},[s._v("#")]),s._v(" CMakeList.txt")]),s._v(" "),t("p",[s._v("cmake 命令执行时会查找这个文件，然后执行里面的命令（类似于Makefile）")]),s._v(" "),t("h3",{attrs:{id:"minimum-cmake-version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minimum-cmake-version"}},[s._v("#")]),s._v(" Minimum CMake version")]),s._v(" "),t("p",[s._v("cmake版本更新的蛮快的，2.x和3.x功能有差异，你可以指定最低版本号来保证cmake功能一定被支持。")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("cmake_minimum_required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("VERSION")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"project-name"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#project-name"}},[s._v("#")]),s._v(" Project name")]),s._v(" "),t("p",[s._v("cmake可以指定项目名，这样在使用多个项目时使引用某些变量更加容易。")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("project")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_cmake"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"创建一个可执行文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个可执行文件"}},[s._v("#")]),s._v(" 创建一个可执行文件")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_executable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_cmake main.cpp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("code",[s._v("add_executable")]),s._v(" 按照指定的源文件编译可执行文件。第一个参数是生成的可执行文件名字，第二个是源文件列表")]),s._v(" "),t("p",[s._v("有时我们可以将可执行文件名设置为project name，可以这样写")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("project")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_cmake"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_executable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_NAME")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" main.cpp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"执行cmake"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行cmake"}},[s._v("#")]),s._v(" 执行cmake")]),s._v(" "),t("p",[s._v("cmake在shell中调用的方式是")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cmake dir\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其中dir是CMakeList.txt所在的目录。cmake的产物（Makefile之类）会在当前文件夹。")]),s._v(" "),t("p",[s._v("一般在根部目录下建立一个build目录，然后在build目录中编译")]),s._v(" "),t("h2",{attrs:{id:"头文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#头文件"}},[s._v("#")]),s._v(" 头文件")]),s._v(" "),t("p",[s._v("使用这个例子")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(".\n├── CMakeLists.txt\n├── build\n├── include\n│   └── Hello.h\n└── src\n    ├── Hello.cpp\n    └── main.cpp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"文件目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件目录"}},[s._v("#")]),s._v(" 文件目录")]),s._v(" "),t("p",[s._v("cmake提供了一些变量来帮助你使用文件目录（在build里执行cmake）")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("Variable")]),s._v(" "),t("th",[s._v("Info")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("CMAKE_SOURCE_DIR")]),s._v(" "),t("td",[s._v("CMakeLists文件目录("),t("code",[s._v(".")]),s._v(")")])]),s._v(" "),t("tr",[t("td",[s._v("CMAKE_CURRENT_SOURCE_DIR")]),s._v(" "),t("td",[s._v("当前处理的CMakeLists目录（如果使用子项目和目录）("),t("code",[s._v(".")]),s._v(")")])]),s._v(" "),t("tr",[t("td",[s._v("PROJECT_SOURCE_DIR")]),s._v(" "),t("td",[s._v("当前cmake项目的源目录。("),t("code",[s._v(".")]),s._v(")")])]),s._v(" "),t("tr",[t("td",[s._v("CMAKE_BINARY_DIR")]),s._v(" "),t("td",[s._v("运行cmake命令的目录。("),t("code",[s._v("./build")]),s._v(")")])]),s._v(" "),t("tr",[t("td",[s._v("CMAKE_CURRENT_BINARY_DIR")]),s._v(" "),t("td",[s._v("当前所在的构建目录。("),t("code",[s._v("./build")]),s._v(")")])]),s._v(" "),t("tr",[t("td",[s._v("PROJECT_BINARY_DIR")]),s._v(" "),t("td",[s._v("当前项目所在的构建目录。("),t("code",[s._v("./build")]),s._v(")")])])])]),s._v(" "),t("h3",{attrs:{id:"创建一个变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个变量"}},[s._v("#")]),s._v(" 创建一个变量")]),s._v(" "),t("p",[s._v("创建一个包含所有源文件的变量可以很方便的在许多命令中调用，比如")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("SOURCES")]),s._v("\n    src/Hello.cpp\n    src/main.cpp\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_executable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_NAME")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token property"}},[s._v("SOURCES")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("modern cmake不推荐使用变量来指定源文件，而推荐使用add_xx指令（见static_library)")]),s._v(" "),t("h3",{attrs:{id:"添加目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加目录"}},[s._v("#")]),s._v(" 添加目录")]),s._v(" "),t("p",[s._v("在上面的例子中，你要使用的头文件目录和源文件目录不是一个，这时候需要使用"),t("code",[s._v("target_include_directories")]),s._v("指令。相当于gcc的"),t("code",[s._v("-I")]),s._v("参数")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("target_include_directories")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("target\n    "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("PRIVATE")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_SOURCE_DIR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/include\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"详细输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#详细输出"}},[s._v("#")]),s._v(" 详细输出")]),s._v(" "),t("p",[s._v("cmake玩，直接make会显示编译过程。如果为了debug，想要看更详细的输出，可以使用"),t("code",[s._v("make VERBOSE=1")])]),s._v(" "),t("h2",{attrs:{id:"static-library"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#static-library"}},[s._v("#")]),s._v(" static library")]),s._v(" "),t("p",[s._v("使用这个例子")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(".\n├── CMakeLists.txt\n├── build\n├── include\n│   └── static\n│       └── Hello.h\n└── src\n    ├── Hello.cpp\n    └── main.cpp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"添加静态库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加静态库"}},[s._v("#")]),s._v(" 添加静态库")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_library")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_library "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("STATIC")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 表示静态库 还可以是SHARE等")]),s._v("\n    src/Hello.cpp\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("这个指令会将指定的源文件编译为静态库文件。上面的例子中，最终编译产物是"),t("code",[s._v("libhello_library.a")])]),s._v(" "),t("h3",{attrs:{id:"填充-including-directories-头文件目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#填充-including-directories-头文件目录"}},[s._v("#")]),s._v(" 填充 Including Directories（头文件目录）")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("target_include_directories")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_library\n    "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("PUBLIC")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_SOURCE_DIR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/include\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("熟悉的指令，但是使用了不同的作用域（scope）。target_** 指令都有这些作用域")]),s._v(" "),t("p",[s._v("included directory 会在编译library和连接这个library的时候使用")]),s._v(" "),t("p",[s._v("scope可以为:")]),s._v(" "),t("ul",[t("li",[s._v("PRIVATE ：只添加到当前target的included directory，也就是不对外暴露接口，只有当前的库使用")]),s._v(" "),t("li",[s._v("INTERFACE：添加到所有连接到这个库的target中，对外暴露")]),s._v(" "),t("li",[s._v("PUBLIC：相当于private+interface")])]),s._v(" "),t("p",[s._v("对于public的头文件最好使用namespace（c++）")]),s._v(" "),t("p",[s._v("target_include_directories里面的目录是included directory的根目录，比如在这个例子里是include")]),s._v(" "),t("p",[s._v("然后在main里引用的方式是")]),s._v(" "),t("div",{staticClass:"language-cpp line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cpp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"static/Hello.h"')])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这样可以减少头文件命名冲突")]),s._v(" "),t("h3",{attrs:{id:"链接-library"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#链接-library"}},[s._v("#")]),s._v(" 链接 library")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_executable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_binary\n    src/main.cpp\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("target_link_libraries")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" hello_binary\n    "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("PRIVATE")]),s._v("\n        hello_library\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("编译器会将hello_library生成的静态库链接到hello_binary里，生成最终的执行文件")]),s._v(" "),t("p",[s._v("相当于")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/usr/bin/c++ xx/src/main.cpp.o -o hello_binary -rdynamic libhello_library.a\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"动态库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态库"}},[s._v("#")]),s._v(" 动态库")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_library")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_library "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("SHARED")]),s._v(" \n    src/Hello.cpp\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_library")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token inserted class-name"}},[s._v("hello::library")]),s._v(" ALIAS hello_library"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("target_include_directories")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_library\n    "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("PUBLIC")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_SOURCE_DIR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/include\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_executable")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("hello_binary\n    src/main.cpp\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("target_link_libraries")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" hello_binary\n    "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("PRIVATE")]),s._v(" \n        "),t("span",{pre:!0,attrs:{class:"token inserted class-name"}},[s._v("hello::library")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("和静态库的区别是add_library的时候是share")]),s._v(" "),t("p",[s._v("其中")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("add_library(hello::library ALIAS hello_library)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("的意思是使用别名，在下面就可以使用这个别名")]),s._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("p",[s._v("生成"),t("code",[s._v("make install")]),s._v("目标，可以把文件、库安装到指定目录")]),s._v(" "),t("p",[t("code",[s._v("CMAKE_INSTALL_PREFIX")]),s._v("变量指定了安装的位置，默认为"),t("code",[s._v("/usr/local")]),s._v("，可以通过"),t("code",[s._v("cmake .. -DCMAKE_INSTALL_PREFIX=/install/location")]),s._v("指定")]),s._v(" "),t("h3",{attrs:{id:"install指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install指令"}},[s._v("#")]),s._v(" install指令")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将二进制目标（可执行文件） 安装到 ${CMAKE_INSTALL_PREFIX}/bin")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TARGETS cmake_examples_inst_bin\n    DESTINATION bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将动态链接库安装到 ${CMAKE_INSTALL_PREFIX}/lib")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TARGETS cmake_examples_inst\n    LIBRARY DESTINATION lib"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将头文件目录到 ${CMAKE_INSTALL_PREFIX}/include")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("install")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("DIRECTORY "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_SOURCE_DIR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/include/\n    DESTINATION include"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文件安装到 ${CMAKE_INSTALL_PREFIX}/include")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("install")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FILES cmake-examples.conf\n    DESTINATION include"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"修改cmake-install-prefix"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改cmake-install-prefix"}},[s._v("#")]),s._v(" 修改CMAKE_INSTALL_PREFIX")]),s._v(" "),t("p",[s._v("一是"),t("code",[s._v("cmake .. -DCMAKE_INSTALL_PREFIX=/install/location")]),s._v("指定")]),s._v(" "),t("p",[s._v("二是通过下面的")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检测是否为默认是")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("message")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STATUS "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Setting default CMAKE_INSTALL_PREFIX path to '),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_BINARY_DIR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v('/install"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_INSTALL_PREFIX")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_BINARY_DIR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v('/install"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CACHE")]),s._v(" STRING "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The path to use for make install"')]),s._v(" FORCE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## CMAKE_INSTALL_PREFIX是一个cache变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("关于cache变量可以看这篇博客 https://www.cnblogs.com/ncuneugcj/p/9756324.html")]),s._v(" "),t("p",[s._v("简单来说，cache变量会保存在cmakelistcache文件里，每次cmake时，如果文件里没有，用默认值；如果在文件里，用文件里的值")]),s._v(" "),t("h3",{attrs:{id:"make-install到指定目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#make-install到指定目录"}},[s._v("#")]),s._v(" make  install到指定目录")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DESTDIR")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xxx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("会把文件安装到 "),t("code",[s._v("xxx/$CMAKE_INSTALL_PREFIX/")]),s._v(" 里")]),s._v(" "),t("h3",{attrs:{id:"uninstall"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uninstall"}},[s._v("#")]),s._v(" uninstall")]),s._v(" "),t("p",[s._v("cmake不会自动生成uninstall")]),s._v(" "),t("p",[s._v("make install后会生成install_manifest.txt，所以可以这样删除")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" install_manifest.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"build-type"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-type"}},[s._v("#")]),s._v(" Build Type")]),s._v(" "),t("p",[s._v("可以指定：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("release")]),s._v(" : 相当于指定"),t("code",[s._v("-O3 -DNDEBUG")])]),s._v(" "),t("li",[t("code",[s._v("Debug")]),s._v(" : 相当于指定"),t("code",[s._v("-g")])]),s._v(" "),t("li",[t("code",[s._v("MinSizeRel")]),s._v(" : 相当于指定"),t("code",[s._v("-Os -DNDEBUG")])]),s._v(" "),t("li",[t("code",[s._v("RelWithDebInfo")]),s._v(" : 相当于指定"),t("code",[s._v("-O2 -g -DNDEBUG")])])]),s._v(" "),t("p",[s._v("通过"),t("code",[s._v("CMAKE_BUILD_TYPE")]),s._v(" 指定，修改方式和CMAKE_INSTALL_PREFIX一样")]),s._v(" "),t("h2",{attrs:{id:"编译选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译选项"}},[s._v("#")]),s._v(" 编译选项")]),s._v(" "),t("p",[s._v("相当于gcc -Dxxx（设置宏）")]),s._v(" "),t("p",[s._v("在代码中是")]),s._v(" "),t("div",{staticClass:"language-cpp line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cpp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("ifdef")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token expression"}},[s._v("EX2")])]),s._v("\n  std"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),s._v("cout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello Compile Flag EX2!"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" std"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),s._v("endl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("endif")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("ifdef")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token expression"}},[s._v("EX3")])]),s._v("\n  std"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),s._v("cout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello Compile Flag EX3!"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" std"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),s._v("endl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("endif")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("支持两种方式来设置编译选项")]),s._v(" "),t("h3",{attrs:{id:"per-target-flags"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#per-target-flags"}},[s._v("#")]),s._v(" per-target flags")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("target_compile_definitions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cmake_examples_compile_flags \n    "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("PRIVATE")]),s._v(" EX3\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("modern cmake推荐这种方式")]),s._v(" "),t("h3",{attrs:{id:"修改变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改变量"}},[s._v("#")]),s._v(" 修改变量")]),s._v(" "),t("p",[t("code",[s._v("CMAKE_C_FLAGS")]),s._v(" 和"),t("code",[s._v("CMAKE_CXX_FLAGS")]),s._v(" 一个c一个c++")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_CXX_FLAGS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_CXX_FLAGS")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v(' -DEX2"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CACHE")]),s._v(" STRING "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Set C++ Compiler Flags"')]),s._v(" FORCE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这个变量也可以在命令行使用")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('cmake .. -DCMAKE_CXX_FLAGS="-DEX3"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"引用第三方库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引用第三方库"}},[s._v("#")]),s._v(" 引用第三方库")]),s._v(" "),t("h3",{attrs:{id:"查找第三方库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查找第三方库"}},[s._v("#")]),s._v(" 查找第三方库")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("find_package")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Boost "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.46.1")]),s._v(" REQUIRED COMPONENTS filesystem system"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("find_package指令")]),s._v(" "),t("p",[s._v("这个指令不是随随便便一个第三库都能用……cmake官方为我们预定义了许多寻找依赖包的Module，存储在"),t("code",[s._v("path_to_your_cmake/share/cmake-<version>/Modules")]),s._v("（默认是 "),t("code",[s._v("/usr/share/cmake-version/Modules/")]),s._v("）目录下。")]),s._v(" "),t("p",[t("code",[s._v("Modules/Find<LibaryName>.cmake")]),s._v("命名的文件都可以帮我们找到一个包，可以直接使用find_package函数进行引用。")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://link.zhihu.com/?target=https%3A//cmake.org/cmake/help/latest/manual/cmake-modules.7.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档：Find Modules"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("p",[s._v("以boost为例，需要安装boost "),t("code",[s._v("sudo apt-get install libboost-all-dev")])]),s._v(" "),t("p",[s._v("参数为：")]),s._v(" "),t("ul",[t("li",[s._v("Boost ：需要找的第三方库名字。会通过FindBoost.cmake寻找库")]),s._v(" "),t("li",[s._v("1.46.1 ： 需要的最低版本")]),s._v(" "),t("li",[s._v("REQUIRED ： 这个库是必须的，找不到会报错终止")]),s._v(" "),t("li",[s._v("COMPONENTS ： 需要的库列表")])]),s._v(" "),t("h3",{attrs:{id:"检查库是否找到"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查库是否找到"}},[s._v("#")]),s._v(" 检查库是否找到")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Boost_FOUND"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("message")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"boost found"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include_directories")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),s._v("Boost_INCLUDE_DIRS"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("message")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FATAL_ERROR "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Cannot find Boost"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"自定义find-libraryname-cmake模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自定义find-libraryname-cmake模块"}},[s._v("#")]),s._v(" 自定义"),t("code",[s._v("Find<LibraryName>.cmake")]),s._v("模块")]),s._v(" "),t("p",[s._v("参考这边"),t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/97369704",target:"_blank",rel:"noopener noreferrer"}},[s._v("博客"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"使用clang"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用clang"}},[s._v("#")]),s._v(" 使用clang")]),s._v(" "),t("p",[s._v("修改变量CMAKE_C_COMPILER 和CMAKE_CXX_COMPILER")]),s._v(" "),t("p",[s._v("方式和之前一样两种")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cmake .. -DCMAKE_C_COMPILER=clang-3.6 -DCMAKE_CXX_COMPILER=clang++-3.6\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"生成方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成方式"}},[s._v("#")]),s._v(" 生成方式")]),s._v(" "),t("p",[s._v("cmake支持多种Generator")]),s._v(" "),t("p",[s._v("命令行：")]),s._v(" "),t("ul",[t("li",[s._v("Borland Makefiles")]),s._v(" "),t("li",[s._v("MSYS Makefiles")]),s._v(" "),t("li",[s._v("MinGW Makefiles")]),s._v(" "),t("li",[s._v("NMake Makefiles")]),s._v(" "),t("li",[s._v("NMake Makefiles JOM")]),s._v(" "),t("li",[s._v("Ninja")]),s._v(" "),t("li",[s._v("Unix Makefiles")]),s._v(" "),t("li",[s._v("Watcom WMake")])]),s._v(" "),t("p",[s._v("IDE：")]),s._v(" "),t("ul",[t("li",[s._v("Visual Studio 6")]),s._v(" "),t("li",[s._v("Visual Studio 7")]),s._v(" "),t("li",[s._v("Visual Studio 7 .NET 2003")]),s._v(" "),t("li",[s._v("Visual Studio 8 2005")]),s._v(" "),t("li",[s._v("Visual Studio 9 2008")]),s._v(" "),t("li",[s._v("Visual Studio 10 2010")]),s._v(" "),t("li",[s._v("Visual Studio 11 2012")]),s._v(" "),t("li",[s._v("Visual Studio 12 2013")]),s._v(" "),t("li",[s._v("Xcode")])]),s._v(" "),t("p",[s._v("调用方式，以ninja为例子")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cmake .. -G Ninja\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"c-标准"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#c-标准"}},[s._v("#")]),s._v(" C++ 标准")]),s._v(" "),t("p",[s._v("不只是c++ standard，应该是所有编译器参数")]),s._v(" "),t("h3",{attrs:{id:"检查是否支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查是否支持"}},[s._v("#")]),s._v(" 检查是否支持")]),s._v(" "),t("p",[s._v("cmake 支持检查是否支持编译器参数")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CheckCXXCompilerFlag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# include CHECK_CXX_COMPILER_FLAG这个函数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("CHECK_CXX_COMPILER_FLAG")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-std=c++11"')]),s._v(" COMPILER_SUPPORTS_CXX11"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("这个例子检查是否支持"),t("code",[s._v("-std=c++11")]),s._v(" ,将结果存在 "),t("code",[s._v("COMPILER_SUPPORTS_CXX11")]),s._v("变量里")]),s._v(" "),t("h3",{attrs:{id:"添加flag"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加flag"}},[s._v("#")]),s._v(" 添加flag")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("COMPILER_SUPPORTS_CXX11"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_CXX_FLAGS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_CXX_FLAGS")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v(' -std=c++11"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elseif")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("COMPILER_SUPPORTS_CXX0X"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_CXX_FLAGS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_CXX_FLAGS")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v(' -std=c++0x"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("message")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("STATUS "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The compiler '),t("span",{pre:!0,attrs:{class:"token interpolation"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_CXX_COMPILER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),s._v(' has no C++11 support. Please use a different C++ compiler."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("endif")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"cmake-cxx-standard"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cmake-cxx-standard"}},[s._v("#")]),s._v(" CMAKE_CXX_STANDARD")]),s._v(" "),t("p",[s._v("cmake 3.1 之后支持使用CMAKE_CXX_STANDARD变量")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# set the C++ standard to C++ 11")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("CMAKE_CXX_STANDARD")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"子项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子项目"}},[s._v("#")]),s._v(" 子项目")]),s._v(" "),t("p",[s._v("例子目录结构")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ tree\n.\n├── CMakeLists.txt\n├── subbinary # 可执行文件\n│   ├── CMakeLists.txt\n│   └── main.cpp\n├── sublibrary1 # 静态库\n│   ├── CMakeLists.txt\n│   ├── include\n│   │   └── sublib1\n│   │       └── sublib1.h\n│   └── src\n│       └── sublib1.cpp\n└── sublibrary2 # 只有头文件的库\n    ├── CMakeLists.txt\n    └── include\n        └── sublib2\n            └── sublib2.h\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h3",{attrs:{id:"添加子目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加子目录"}},[s._v("#")]),s._v(" 添加子目录")]),s._v(" "),t("p",[s._v("一个CMakeLists.txt文件里可以引用包含CMakeLists.txt（另一个文件）的子目录")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./CMakeLists.txt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_subdirectory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sublibrary1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_subdirectory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sublibrary2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_subdirectory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("subbinary"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"引用子目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引用子目录"}},[s._v("#")]),s._v(" 引用子目录")]),s._v(" "),t("p",[s._v("当一个项目使用了"),t("code",[s._v("project()")]),s._v("命令后，cmake会自动产生一些变量来帮助引用项目")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("Variable")]),s._v(" "),t("th",[s._v("Info")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("PROJECT_NAME")]),s._v(" "),t("td",[s._v("当前项目名")])]),s._v(" "),t("tr",[t("td",[s._v("CMAKE_PROJECT_NAME")]),s._v(" "),t("td",[s._v("顶级项目名")])]),s._v(" "),t("tr",[t("td",[s._v("PROJECT_SOURCE_DIR")]),s._v(" "),t("td",[s._v("当前项目的源目录")])]),s._v(" "),t("tr",[t("td",[s._v("PROJECT_BINARY_DIR")]),s._v(" "),t("td",[s._v("当前项目的构建目录")])]),s._v(" "),t("tr",[t("td",[s._v("name_SOURCE_DIR")]),s._v(" "),t("td",[s._v("“name” 项目所在的目录，比如在上面例子中，可以在其他子目录里调用"),t("code",[s._v("${sublibrary1_SOURCE_DIR}")])])]),s._v(" "),t("tr",[t("td",[s._v("name_BINARY_DIR")]),s._v(" "),t("td",[s._v("“name” 项目build所在的目录")])])])]),s._v(" "),t("h3",{attrs:{id:"header-only-libraries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#header-only-libraries"}},[s._v("#")]),s._v(" Header only Libraries")]),s._v(" "),t("p",[s._v("如果你的库是 Header only Libraries（就是全写在头文件里），cmake支持创建一个"),t("code",[s._v("interface")]),s._v(" 目标但是没有构建输出")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./sublibrary2/CMakeLists.txt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_library")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_NAME")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("INTERFACE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add_library")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token inserted class-name"}},[s._v("sub::lib2")]),s._v(" ALIAS "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_NAME")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("target_include_directories")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_NAME")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("INTERFACE")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_SOURCE_DIR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/include\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"引用库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引用库"}},[s._v("#")]),s._v(" 引用库")]),s._v(" "),t("p",[s._v("就正常引用呗")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ./subbinary/CMakeLists.txt")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("target_link_libraries")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("${")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("PROJECT_NAME")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token inserted class-name"}},[s._v("sub::lib1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里用来别名")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token inserted class-name"}},[s._v("sub::lib2")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);